# بخش ۳: تحلیل درخت تصمیم (Decision Tree)

## هدف
بررسی الگوریتم درخت تصمیم با معیار entropy برای عمق‌های ۲ تا ۱۰ و تحلیل Overfitting.

## درخت تصمیم چیست؟
درخت تصمیم یک الگوریتم یادگیری ماشین است که:
- داده‌ها را با سوالات متوالی تقسیم می‌کند
- هر گره یک تصمیم بر اساس یک ویژگی است
- برگ‌ها برچسب نهایی را مشخص می‌کنند

## معیار Entropy
Entropy میزان بی‌نظمی در داده‌ها را اندازه می‌گیرد:
```
Entropy = -Σ(pi × log2(pi))
```
- اگر همه داده‌ها یک کلاس باشند: Entropy = 0
- اگر داده‌ها به طور مساوی توزیع شوند: Entropy حداکثر

## آزمایش انجام شده
- ساخت درخت تصمیم با max_depth از ۲ تا ۱۰
- محاسبه دقت آموزش و آزمون برای هر عمق
- رسم نمودار تغییرات دقت
- شناسایی نقطه شروع Overfitting

## تحلیل نتایج

### دقت آموزش (Train Accuracy)
- با افزایش عمق، دقت آموزش افزایش می‌یابد
- در عمق‌های بالا به ۱۰۰٪ نزدیک می‌شود
- مدل داده‌های آموزش را "حفظ" می‌کند

### دقت آزمون (Test Accuracy)
- ابتدا با افزایش عمق بهبود می‌یابد
- پس از یک نقطه بهینه، ثابت یا کاهش می‌یابد
- این نشان‌دهنده Overfitting است

### نقطه شروع Overfitting
- زمانی که شکاف بین دقت آموزش و آزمون زیاد می‌شود
- مدل قابلیت تعمیم (Generalization) خود را از دست می‌دهد
- عمق بیش از حد = Overfitting

## آیا افزایش عمق باعث بهبود مدل می‌شود؟

### پاسخ کوتاه: نه لزوماً!

### توضیح:
1. **عمق کم (Underfitting)**:
   - مدل خیلی ساده است
   - نمی‌تواند الگوهای پیچیده را یاد بگیرد
   - دقت آموزش و آزمون هر دو پایین

2. **عمق بهینه**:
   - تعادل بین پیچیدگی و سادگی
   - بهترین Generalization
   - دقت آزمون حداکثر

3. **عمق زیاد (Overfitting)**:
   - مدل داده‌های آموزش را حفظ می‌کند
   - روی داده‌های جدید ضعیف عمل می‌کند
   - دقت آموزش بالا، دقت آزمون پایین‌تر

## نمودار Overfitting
ناحیه رنگی بین دو منحنی نشان‌دهنده شکاف دقت است:
- شکاف کم = Generalization خوب
- شکاف زیاد = Overfitting

## خروجی‌های کد
- `decision_tree_analysis.png`: نمودار دقت آموزش و آزمون
- `overfitting_analysis.png`: نمودار شاخص Overfitting

## نتیجه‌گیری
- عمق بهینه درخت تصمیم باید با آزمایش تعیین شود
- افزایش بی‌رویه عمق منجر به Overfitting می‌شود
- استفاده از validation set یا cross-validation توصیه می‌شود

## نحوه اجرا
```bash
python decision_tree_analysis.py
```
