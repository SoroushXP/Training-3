# بخش ۵: مقایسه نهایی مدل‌ها

## هدف
مقایسه جامع سه الگوریتم KNN، Decision Tree و SVM و انتخاب بهترین الگوریتم برای دیتاست digits.

---

## پاسخ به سوالات تمرین

### جدول مقایسه نهایی

| Algorithm | Best Parameters | Accuracy | Precision | Recall |
|-----------|----------------|----------|-----------|--------|
| **KNN** | K=1 | 0.9741 | 0.9742 | 0.9741 |
| **Decision Tree** | max_depth=8 | 0.8241 | 0.8309 | 0.8241 |
| **SVM** | kernel=poly, C=10 | **0.9907** | **0.9909** | **0.9907** |

---

### کدام الگوریتم را برای این دیتاست پیشنهاد می‌کنید و چرا؟

**پیشنهاد: SVM با کرنل Polynomial و C=10**

**دلایل:**

1. **بالاترین دقت (99.07%)**: SVM با اختلاف قابل توجهی از سایر الگوریتم‌ها بهتر عمل کرده است
   - SVM: 99.07%
   - KNN: 97.41%
   - Decision Tree: 82.41%

2. **Precision و Recall متعادل و بالا**: هر دو معیار بالای 99% هستند که نشان‌دهنده عملکرد پایدار روی همه کلاس‌هاست

3. **مناسب برای داده‌های با ابعاد بالا**: دیتاست Digits دارای 64 ویژگی است و SVM در فضاهای با ابعاد بالا عملکرد خوبی دارد

4. **کرنل Polynomial**: می‌تواند روابط غیرخطی پیچیده بین پیکسل‌ها و ارقام را مدل کند

5. **مقاومت در برابر Overfitting**: با انتخاب C=10 که یک مقدار متعادل است، مدل به خوبی تعمیم می‌یابد

6. **حاشیه حداکثر (Maximum Margin)**: SVM سعی می‌کند فاصله بین کلاس‌ها را حداکثر کند که باعث تعمیم‌پذیری بهتر می‌شود

**مقایسه با سایر الگوریتم‌ها:**
- **KNN** عملکرد خوبی دارد اما برای داده‌های بزرگ کند است و به انتخاب K حساس است
- **Decision Tree** عملکرد ضعیف‌تری دارد (82.41%) و مستعد Overfitting است

---

## جزئیات معیارهای ارزیابی

| معیار | فرمول | توضیح |
|-------|-------|-------|
| **Accuracy** | (TP+TN)/(TP+TN+FP+FN) | نسبت پیش‌بینی‌های صحیح به کل |
| **Precision** | TP/(TP+FP) | از پیش‌بینی‌های مثبت، چند درصد صحیح بودند |
| **Recall** | TP/(TP+FN) | از موارد واقعاً مثبت، چند درصد را پیدا کردیم |

## مقایسه مزایا و معایب الگوریتم‌ها

| الگوریتم | مزایا | معایب |
|----------|-------|-------|
| **KNN** | ساده، بدون آموزش | کند، حساس به ابعاد |
| **Decision Tree** | قابل تفسیر، سریع | مستعد Overfitting |
| **SVM** | دقیق، مناسب ابعاد بالا | نیاز به تنظیم پارامتر |

## خروجی‌های کد
- `comparison_results.csv`: جدول نتایج به صورت CSV
- `final_comparison.png`: نمودار مقایسه معیارها

## نحوه اجرا
```bash
python final_comparison.py
```
